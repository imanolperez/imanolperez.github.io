function loadData(){if(null==localStorage.existsData)for(localStorage.audio=1,localStorage.existsData=!0,i=0;15>i;i++)localStorage["level"+i]=-1;null==localStorage.audio&&(localStorage.audio=1),null==localStorage.character&&(localStorage.character=0)}function setStars(a){for(var b=1;50>b;b++)a.save(),a.fillStyle="#fff",a.translate(Math.floor(Math.random()*W),Math.floor(Math.random()*H)),drawStar(a,Math.floor(4*Math.random())+2),a.restore()}function drawStar(a,b){a.save(),a.beginPath(),a.fillStyle="rgba(255,255,255,0.5)",a.moveTo(b,0);for(var c=0;9>c;c++)a.rotate(Math.PI/5),0==c%2?a.lineTo(.200811*(b/.525731),0):a.lineTo(b,0);a.closePath(),a.fill(),a.restore()}function lImage(a){return foo=new Image,foo.src=a,foo.t=0,foo.px=0,foo.py=0,foo.addEventListener("load",function(){foo.w=foo.naturalWidth,foo.h=foo.naturalHeight}),foo}function loadStars(){m_canvas=document.createElement("canvas"),m_canvas.width=W,m_canvas.height=H;var a=m_canvas.getContext("2d");setStars(a)}function loadImages(){loadData(),audioControl=new Audio("music/song.mp3"),1==localStorage.audio&&audioControl.play(),audioControl.loop=!0,successAudio=new Audio("music/success.wav"),gameOverAudio=new Audio("music/gameover.wav"),menuPlanet=lImage("images/menu.png"),backImage=lImage("images/back.png"),backImage.px=.05*W,backImage.py=.08*H,levelImage=lImage("images/level2.png"),levelBlockedImage=lImage("images/levelBlocked3.png"),noStarImage=lImage("images/noStar2.png"),starImage=lImage("images/star2.png"),noStarImageHD=lImage("images/noStar.png"),starImageHD=lImage("images/star.png"),planetImages=new Array,planetImages[1]=lImage("images/planets/1.png"),planetImages[2]=lImage("images/planets/2.png"),planetImages[3]=lImage("images/planets/3.png"),planetImages[4]=lImage("images/planets/blackHole.png"),planetImages[5]=lImage("images/planets/wormHole.png"),planetImages[6]=lImage("images/planets/asteroid.png"),playerImage=lImage("images/person.png"),noteImage=lImage("images/note.png"),portalImage=lImage("images/portal.png"),recordImage=lImage("images/newRecord.png"),menuImage=lImage("images/menuIcon.png"),menuCharacterImage=new Array,menuCharacterImage[0]=lImage("images/cloths/menu0.png"),menuCharacterImage[1]=lImage("images/cloths/menu1.png"),menuCharacterImage[2]=lImage("images/cloths/menu2.png"),menuCharacterImage[3]=lImage("images/cloths/menu3.png"),menuCharacterImage[4]=lImage("images/cloths/menu4.png"),characterImage=new Array,characterImage[0]=lImage("images/cloths/cloth0.png"),characterImage[1]=lImage("images/cloths/cloth1.png"),characterImage[2]=lImage("images/cloths/cloth2.png"),characterImage[3]=lImage("images/cloths/cloth3.png"),characterImage[4]=lImage("images/cloths/cloth4.png"),repeatImage=lImage("images/repeat.png"),playImage=lImage("images/play.png"),musicImage=lImage("images/music.png"),music2Image=lImage("images/music2.png"),pauseImage=lImage("images/pause.png"),fingerImage=lImage("images/finger.png"),clothImage=lImage("images/cloths.png"),lockImage=lImage("images/lock.png"),menu()}var m_canvas,menuPlanet,backImage,levelImage,noStarImage,starImage,planetImages,playerImage,noteImage,portalImage,recordImage,menuImage,playImage,repeatImage,wormHoleImage,musicImage,music2Image,pauseImage,fingerImage,clothImage,menuCharacterImage,characterImage,lockImage,audioControl,successAudio,gameOverAudio,unlock;